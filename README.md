# FLDSensing

## Combining Remote Sensing FIM (RS FIM) and Terrain-based FIM for improving flood inundation extent and depth mapping
This project aims to delineate flood extension using satellite imagery and estimate Depth of Flow (DoF) using the relationships between Fsp (Flood Source Pixels) and Fpp (FloodPlain Pixels) generated through the [FLDPLN model](https://kuscholarworks.ku.edu/handle/1808/5354).
Files are separated into two folders. Verdigris_v6 contains the original files and notebooks developed for initial case with libraries built with FLDPLN v6. Verdigris_v8 contains the files for the updated libraries and modifications performed by Dr. Li's group at KU with FLDPLN v8. Please contact Dr. Li (lixi@ku.edu) for access to input data (.bil files and libraries).
These folders are required in order to run the notebooks.

## Installing
FLDPLN model libraries should be installed in advance in order to run the notebooks generated for the study case. Please take a look to [build_fldpln_python_env.md](https://github.com/NWC-CUAHSI-Summer-Institute/FLDSensing/blob/main/build_fldpln_python_env.md) within this repo.
It is not required to install additional python packages in order to run the notebooks.

## GEE web application for RS edge extraction
Jack Edwards and Son Do have developed a GEE web application in order to generate a file with the flood edges given a user-input restrictions such as land cover, cloud coverage and NDVI thresholding parameters. We invite you to use this [GEE app](https://code.earthengine.google.com/7fdedb761735f72a53f4691876ce47a2).

## Notebooks
Two notebooks have been generated. [Tiling_Process.ipynb](https://github.com/NWC-CUAHSI-Summer-Institute/FLDSensing/blob/main/fim_build_segment_library.ipynb) preprocess the terrain inputs and segments files in order to generate the .zns files. These files are tiles of the study area and are the input for the following notebook. Please note that it is required that the user defines the relative folders to the input data, and some preprocessing should be done like generation of .bil files and generation of segments (take a look on fim_build_segment_library.ipynb notebook generated by Dr. Xingong Li within this repo).
The second notebook [FLDPLN_FIM.ipynb](https://github.com/NWC-CUAHSI-Summer-Institute/FLDSensing/blob/main/FLDPLN_FIM.ipynb) handles the input data and generate the flood inundation map given the flood edge pixels from RS FIM and FLDPLN relationships. This notebook contain the details by steps in order to perform the inverse modeling FIM. Modified funtions from original FLDPLN source code are contained in this notebook in roder to not interfer with the base code as some modifications should be done to perform the analysis backwards to estimate Fsp Dof.

## Acknowledgments
We would like to thank Dr. Xingong Li ans his team at University of Kansas for the preprocessing of the input files for Verdigris river study case, and Dr. Sagy Cohen for this guidance during this project. Special mention to Jack and Son for their efforts in Remote Sensing app generation for this project.

